{"ast":null,"code":"var _jsxFileName = \"F:\\\\GUVI-PLACEMENTS\\\\Github-trials\\\\HospitalMgmt\\\\client\\\\src\\\\components\\\\patients\\\\EditPatientForm.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { editPatient, getPatient } from \"../../actions/patient\";\nimport isEmpty from './is-empty';\n\nclass EditPatientForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      mobile: \"\",\n      age: \"\",\n      gender: \"\",\n      speciality: \"\",\n      hospital: \"\",\n      doctor: \"\",\n      nationality: \"\",\n      date: \"\",\n      patientstatus: \"\"\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.getPatient(this.props.match.params.id);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.patient.patient) {\n      const patient = nextProps.patient.patient; // If patient field doesnt exist, make empty string\n\n      patient.name = !isEmpty(patient.name) ? patient.name : '';\n      patient.mobile = !isEmpty(patient.mobile) ? patient.mobile : '';\n      patient.age = !isEmpty(patient.age) ? patient.age : '';\n      patient.gender = !isEmpty(patient.gender) ? patient.gender : '';\n      patient.speciality = !isEmpty(patient.speciality) ? patient.speciality : '';\n      patient.hospital = !isEmpty(patient.hospital) ? patient.hospital : '';\n      patient.doctor = !isEmpty(patient.doctor) ? patient.doctor : '';\n      patient.nationality = !isEmpty(patient.nationality) ? patient.nationality : '';\n      patient.date = !isEmpty(patient.date) ? patient.date : '';\n      patient.patientstatus = !isEmpty(patient.patientstatus) ? patient.patientstatus : ''; // Set component fields state\n\n      this.setState({\n        name: patient.name,\n        mobile: patient.mobile,\n        age: patient.age,\n        gender: patient.gender,\n        speciality: patient.speciality,\n        hospital: patient.hospital,\n        doctor: patient.doctor,\n        nationality: patient.nationality,\n        date: patient.date.substring(0, 16),\n        patientstatus: patient.patientstatus\n      });\n    }\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const patientData = {\n      name: this.state.name,\n      mobile: this.state.mobile,\n      age: this.state.age,\n      gender: this.state.gender,\n      speciality: this.state.speciality,\n      hospital: this.state.hospital,\n      doctor: this.state.doctor,\n      nationality: this.state.nationality,\n      date: this.state.date,\n      patientstatus: this.state.patientstatus\n    };\n    this.props.editPatient(this.props.match.params.id, patientData, this.props.history);\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  render() {\n    const auth = this.props.auth;\n    return React.createElement(React.Fragment, null, React.createElement(\"h1\", {\n      className: \"large text-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Edit a Patient\"), React.createElement(\"p\", {\n      className: \"lead\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), \" Let's edit some information about the patient\"), React.createElement(\"small\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"* = required field\"), React.createElement(\"form\", {\n      className: \"form\",\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"* Name\",\n      name: \"name\",\n      value: this.state.name,\n      onChange: this.onChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"number\",\n      placeholder: \"* Mobile\",\n      name: \"mobile\",\n      value: this.state.mobile,\n      onChange: this.onChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"* Age\",\n      name: \"age\",\n      value: this.state.age,\n      onChange: this.onChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      name: \"gender\",\n      value: this.state.gender,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Select Gender\"), React.createElement(\"option\", {\n      value: \"Male\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Male\"), React.createElement(\"option\", {\n      value: \"Female\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Female\"), React.createElement(\"option\", {\n      value: \"Others\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Others\"))), auth.user && auth.user.role === \"Admin\" && React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      name: \"patientstatus\",\n      value: this.state.patientstatus,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Select Patient Status\"), React.createElement(\"option\", {\n      value: \"Submitted\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Submitted\"), React.createElement(\"option\", {\n      value: \"RefHospital\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Ref to Hospital\"), React.createElement(\"option\", {\n      value: \"HospAccepted\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Hospital Accepted\"), React.createElement(\"option\", {\n      value: \"HospRejected\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Hospital Rejected\"), React.createElement(\"option\", {\n      value: \"OPUnderTreat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"OP Under Treatment\"), React.createElement(\"option\", {\n      value: \"OPTreatDone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"OP Treatment Done\"), React.createElement(\"option\", {\n      value: \"IPUnderTreat\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"IP Under Treatment\"), React.createElement(\"option\", {\n      value: \"IPTreatDone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"IP Treatment Done\"), React.createElement(\"option\", {\n      value: \"Discharged\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Discharged\"), React.createElement(\"option\", {\n      value: \"PtInProgess\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Points In Progess\"), React.createElement(\"option\", {\n      value: \"ClaimNow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Claim Now\"), React.createElement(\"option\", {\n      value: \"PointsRedeemed\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Points Redeemed\"))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Speciality\",\n      name: \"speciality\",\n      value: this.state.speciality,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Hospital\",\n      name: \"hospital\",\n      value: this.state.hospital,\n      onChange: this.onChange,\n      readOnly: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Doctor\",\n      name: \"doctor\",\n      value: this.state.doctor,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Nationality\",\n      name: \"nationality\",\n      value: this.state.nationality,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"datetime-local\",\n      placeholder: \"Appointment\",\n      name: \"date\",\n      value: this.state.date,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(UploadDoc, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn btn-primary my-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }), React.createElement(Link, {\n      className: \"btn btn-light my-1\",\n      to: \"/patients/me\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"Go Back\")));\n  }\n\n}\n\nEditPatientForm.propTypes = {\n  editPatient: PropTypes.func.isRequired,\n  getPatient: PropTypes.func.isRequired,\n  patient: PropTypes.object.isRequired,\n  auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  patient: state.patient,\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  editPatient,\n  getPatient\n})(withRouter(EditPatientForm));","map":{"version":3,"sources":["F:\\GUVI-PLACEMENTS\\Github-trials\\HospitalMgmt\\client\\src\\components\\patients\\EditPatientForm.js"],"names":["React","Component","Link","withRouter","PropTypes","connect","editPatient","getPatient","isEmpty","EditPatientForm","constructor","props","state","name","mobile","age","gender","speciality","hospital","doctor","nationality","date","patientstatus","onChange","bind","onSubmit","componentDidMount","match","params","id","UNSAFE_componentWillReceiveProps","nextProps","patient","setState","substring","e","preventDefault","patientData","history","target","value","render","auth","user","role","propTypes","func","isRequired","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { editPatient, getPatient } from \"../../actions/patient\";\r\nimport isEmpty from './is-empty';\r\n\r\n\r\nclass EditPatientForm extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: \"\",\r\n            mobile: \"\",\r\n            age: \"\",\r\n            gender: \"\",\r\n            speciality: \"\",\r\n            hospital: \"\",\r\n            doctor: \"\",\r\n            nationality: \"\",\r\n            date: \"\",\r\n            patientstatus: \"\"\r\n        }\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.getPatient(this.props.match.params.id);\r\n    }\r\n\r\n    UNSAFE_componentWillReceiveProps(nextProps) {\r\n        if(nextProps.patient.patient) {\r\n            const patient = nextProps.patient.patient;\r\n\r\n          // If patient field doesnt exist, make empty string\r\n            patient.name = !isEmpty(patient.name) ? patient.name : '';\r\n            patient.mobile = !isEmpty(patient.mobile) ? patient.mobile : '';\r\n            patient.age = !isEmpty(patient.age) ? patient.age : '';\r\n            patient.gender = !isEmpty(patient.gender) ? patient.gender : '';\r\n            patient.speciality = !isEmpty(patient.speciality) ? patient.speciality : '';\r\n            patient.hospital = !isEmpty(patient.hospital) ? patient.hospital : '';\r\n            patient.doctor = !isEmpty(patient.doctor) ? patient.doctor : '';\r\n            patient.nationality = !isEmpty(patient.nationality) ? patient.nationality : '';\r\n            patient.date = !isEmpty(patient.date) ? patient.date : '';\r\n            patient.patientstatus = !isEmpty(patient.patientstatus) ? patient.patientstatus : '';\r\n            // Set component fields state\r\n            this.setState({\r\n                name: patient.name,\r\n                mobile: patient.mobile,\r\n                age: patient.age,\r\n                gender: patient.gender,\r\n                speciality: patient.speciality,\r\n                hospital: patient.hospital,\r\n                doctor: patient.doctor,\r\n                nationality: patient.nationality,\r\n                date: patient.date.substring(0, 16),\r\n                patientstatus: patient.patientstatus\r\n            });\r\n        }\r\n      }\r\n\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const patientData = {\r\n          name: this.state.name,\r\n          mobile: this.state.mobile,\r\n          age: this.state.age,\r\n          gender: this.state.gender,\r\n          speciality: this.state.speciality,\r\n          hospital: this.state.hospital,\r\n          doctor: this.state.doctor,\r\n          nationality: this.state.nationality,\r\n          date: this.state.date,\r\n          patientstatus: this.state.patientstatus\r\n        };\r\n\r\n        this.props.editPatient(this.props.match.params.id, patientData, this.props.history);\r\n\r\n      }\r\n\r\n      onChange(e) {\r\n        this.setState({[e.target.name]: e.target.value});\r\n      }\r\n\r\n    render() {\r\n        const auth = this.props.auth;\r\n    return (\r\n        <>\r\n            <h1 className='large text-primary'>Edit a Patient</h1>\r\n            <p className='lead'>\r\n                <i className='fas fa-user' /> Let's edit some information about the patient\r\n            </p>\r\n            <small>* = required field</small>\r\n            <form className='form' onSubmit={this.onSubmit}>\r\n                <div className='form-group'>\r\n                    <input\r\n                        type='text'\r\n                        placeholder='* Name'\r\n                        name='name'\r\n                        value={this.state.name}\r\n                        onChange={this.onChange}\r\n                        required\r\n                    />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <input\r\n                        type='number'\r\n                        placeholder='* Mobile'\r\n                        name='mobile'\r\n                        value={this.state.mobile}\r\n                        onChange={this.onChange}\r\n                        required\r\n                    />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <input\r\n                        type='text'\r\n                        placeholder='* Age'\r\n                        name='age'\r\n                        value={this.state.age}\r\n                        onChange={this.onChange}\r\n                        required\r\n                    />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <select name='gender' value={this.state.gender} onChange={this.onChange}>\r\n                        <option value='0'>Select Gender</option>\r\n                        <option value='Male'>Male</option>\r\n                        <option value='Female'>Female</option>\r\n                        <option value='Others'>Others</option>\r\n                    </select>\r\n                </div>\r\n                {auth.user && auth.user.role === \"Admin\" && (\r\n                    <div className='form-group'>\r\n                        <select name='patientstatus' value={this.state.patientstatus} onChange={this.onChange}>\r\n                            <option value='0'>Select Patient Status</option>\r\n                            <option value='Submitted'>Submitted</option>\r\n                            <option value='RefHospital'>Ref to Hospital</option>\r\n                            <option value='HospAccepted'>Hospital Accepted</option>\r\n                            <option value='HospRejected'>Hospital Rejected</option>\r\n                            <option value='OPUnderTreat'>OP Under Treatment</option>\r\n                            <option value='OPTreatDone'>OP Treatment Done</option>\r\n                            <option value='IPUnderTreat'>IP Under Treatment</option>\r\n                            <option value='IPTreatDone'>IP Treatment Done</option>\r\n                            <option value='Discharged'>Discharged</option>\r\n                            <option value='PtInProgess'>Points In Progess</option>\r\n                            <option value='ClaimNow'>Claim Now</option>\r\n                            <option value='PointsRedeemed'>Points Redeemed</option>\r\n                        </select>\r\n                    </div>\r\n                )}\r\n\r\n                <div className='form-group'>\r\n                    <input\r\n                        type='text'\r\n                        placeholder='Speciality'\r\n                        name='speciality'\r\n                        value={this.state.speciality}\r\n                        onChange={this.onChange}\r\n                    />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <input\r\n                        type='text'\r\n                        placeholder='Hospital'\r\n                        name='hospital'\r\n                        value={this.state.hospital}\r\n                        onChange={this.onChange}\r\n                        readOnly\r\n                    />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <input\r\n                        type='text'\r\n                        placeholder='Doctor'\r\n                        name='doctor'\r\n                        value={this.state.doctor}\r\n                        onChange={this.onChange}\r\n                    />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <input\r\n                        type='text'\r\n                        placeholder='Nationality'\r\n                        name='nationality'\r\n                        value={this.state.nationality}\r\n                        onChange={this.onChange}\r\n                    />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <input\r\n                        type='datetime-local'\r\n                        placeholder='Appointment'\r\n                        name='date'\r\n                        value={this.state.date}\r\n                        onChange={this.onChange}\r\n                    />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <UploadDoc />\r\n                </div>\r\n                <input type='submit' className='btn btn-primary my-1' />\r\n                <Link className='btn btn-light my-1' to='/patients/me'>\r\n                    Go Back\r\n                </Link>\r\n            </form>\r\n\r\n        </>\r\n    )\r\n }\r\n}\r\n\r\nEditPatientForm.propTypes = {\r\n    editPatient: PropTypes.func.isRequired,\r\n    getPatient: PropTypes.func.isRequired,\r\n    patient: PropTypes.object.isRequired,\r\n    auth: PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    patient: state.patient,\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, { editPatient, getPatient })(withRouter(EditPatientForm));\r\n"]},"metadata":{},"sourceType":"module"}